{% extends "base.html" %}
{% load static %}
{% block title %}Chef Booking Blog{% endblock %}

{% block content %}
<section class="page-card p-4 mb-4">
  <h1 class="section-title mb-1">Blog</h1>
  <p class="section-subtitle mb-0">Practical articles on hosting, menu planning, and working with private chefs.</p>
</section>

<section class="content-grid">
  {% for post in posts %}
  <article class="content-card">
    {% if post.image %}
    <img src="{{ post.image.url }}" alt="{{ post.title }}" loading="lazy" decoding="async" />
    {% else %}
    <img src="{% static 'images/default.webp' %}" alt="Blog placeholder" loading="lazy" decoding="async" />
    {% endif %}
    <div class="card-body-tight">
      <p class="mb-2 text-muted">By {{ post.author.username }} | {{ post.created_at|date:"M d, Y" }}</p>
      <h2 class="h5">{{ post.title }}</h2>
      <p class="mb-3">{{ post.content|truncatewords:24 }}</p>
      <a href="{% url 'blog_detail' post.pk %}" class="btn btn-outline-primary btn-sm">Read Article</a>
    </div>
  </article>
  {% empty %}
  <article class="page-card p-4">
    <h2 class="h5">No articles published yet</h2>
    <p class="mb-0">Check back soon for updates.</p>
  </article>
  {% endfor %}
</section>
{% endblock %}
