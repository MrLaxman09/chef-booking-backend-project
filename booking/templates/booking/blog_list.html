{% extends "base.html" %}
{% load static %}
{% block title %}Our Blogs{% endblock %}
{% block content %}

<div class="container mt-5">
  <h1 class="mb-5 text-center fw-bold text-warning"> Latest Blogs</h1>

  <div class="row">
    {% for post in posts %}
    <div class="col-md-6 mb-4">
      <div class="card shadow-lg h-100 border-0 rounded-4 overflow-hidden">
        
        <!-- Blog Image -->
        {% if post.image %}
        <img src="{{ post.image.url }}" class="card-img-top" alt="{{ post.title }}" style="height:250px; object-fit:cover;">
        {% else %}
        <img src="{% static 'default-blog.jpg' %}" class="card-img-top" alt="Default" style="height:250px; object-fit:cover;">
        {% endif %}

        <div class="card-body">
          <h4 class="card-title fw-bold text-dark">{{ post.title }}</h4>

          <!-- Author & Date -->
          <p class="text-muted mb-2" style="font-size:14px;">
             <b>{{ post.author.username }}</b> |  {{ post.created_at|date:"M d, Y" }}
          </p>

          <!-- Short content -->
          <p class="card-text text-secondary">{{ post.content|truncatewords:25 }}</p>

          <!-- Read More Button -->
          <a href="{% url 'blog_detail' post.pk %}" class="btn btn-outline-primary btn-sm rounded-pill">
            Read More â†’
          </a>
        </div>
      </div>
    </div>
    {% empty %}
    <p class="text-center text-danger">No blog posts available yet.</p>
    {% endfor %}
  </div>
</div>

{% endblock %}
